var ot=Object.defineProperty;var Le=Object.getOwnPropertySymbols;var st=Object.prototype.hasOwnProperty,lt=Object.prototype.propertyIsEnumerable;var Ee=(q,L,E)=>L in q?ot(q,L,{enumerable:!0,configurable:!0,writable:!0,value:E}):q[L]=E,j=(q,L)=>{for(var E in L||(L={}))st.call(L,E)&&Ee(q,E,L[E]);if(Le)for(var E of Le(L))lt.call(L,E)&&Ee(q,E,L[E]);return q};(function(){function q(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,c=Array(e);r<e;r++)c[r]=t[r];return c}function L(t,e){var r=typeof Symbol!="undefined"&&t[Symbol.iterator]||t["@@iterator"];if(r)return(r=r.call(t)).next.bind(r);if(Array.isArray(t)||(r=E(t))||e){r&&(t=r);var c=0;return function(){return c>=t.length?{done:!0}:{done:!1,value:t[c++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function E(t,e){if(t){if(typeof t=="string")return q(t,e);var r={}.toString.call(t).slice(8,-1);return r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set"?Array.from(t):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?q(t,e):void 0}}const z=(t,e=0,r=1)=>t>r?r:t<e?e:t,b=(t,e=0,r=Math.pow(10,e))=>Math.round(r*t)/r,Ce=t=>Pe(W(t)),W=t=>(t[0]==="#"&&(t=t.substring(1)),t.length<6?{r:parseInt(t[0]+t[0],16),g:parseInt(t[1]+t[1],16),b:parseInt(t[2]+t[2],16),a:t.length===4?b(parseInt(t[3]+t[3],16)/255,2):1}:{r:parseInt(t.substring(0,2),16),g:parseInt(t.substring(2,4),16),b:parseInt(t.substring(4,6),16),a:t.length===8?b(parseInt(t.substring(6,8),16)/255,2):1}),Ae=t=>He(Me(t)),qe=({h:t,s:e,v:r,a:c})=>{const l=(200-e)*r/100;return{h:b(t),s:b(l>0&&l<200?e*r/100/(l<=100?l:200-l)*100:0),l:b(l/2),a:b(c,2)}},B=t=>{const{h:e,s:r,l:c}=qe(t);return`hsl(${e}, ${r}%, ${c}%)`},Me=({h:t,s:e,v:r,a:c})=>{t=t/360*6,e=e/100,r=r/100;const l=Math.floor(t),h=r*(1-e),w=r*(1-(t-l)*e),x=r*(1-(1-t+l)*e),k=l%6;return{r:b([r,w,h,h,x,r][k]*255),g:b([x,r,r,w,h,h][k]*255),b:b([h,h,x,r,r,w][k]*255),a:b(c,2)}},F=t=>{const e=t.toString(16);return e.length<2?"0"+e:e},He=({r:t,g:e,b:r,a:c})=>{const l=c<1?F(b(c*255)):"";return"#"+F(t)+F(e)+F(r)+l},Pe=({r:t,g:e,b:r,a:c})=>{const l=Math.max(t,e,r),h=l-Math.min(t,e,r),w=h?l===t?(e-r)/h:l===e?2+(r-t)/h:4+(t-e)/h:0;return{h:b(60*(w<0?w+6:w)),s:b(l?h/l*100:0),v:b(l/255*100),a:c}},ee=(t,e)=>{if(t===e)return!0;for(const r in t)if(t[r]!==e[r])return!1;return!0},$e=(t,e)=>t.toLowerCase()===e.toLowerCase()?!0:ee(W(t),W(e)),te={},re=t=>{let e=te[t];return e||(e=document.createElement("template"),e.innerHTML=t,te[t]=e),e},O=(t,e,r)=>{t.dispatchEvent(new CustomEvent(e,{bubbles:!0,detail:r}))};let I=!1;const R=t=>"touches"in t,Ie=t=>I&&!R(t)?!1:(I||(I=R(t)),!0),ie=(t,e)=>{const r=R(e)?e.touches[0]:e,c=t.el.getBoundingClientRect();O(t.el,"move",t.getMove({x:z((r.pageX-(c.left+window.pageXOffset))/c.width),y:z((r.pageY-(c.top+window.pageYOffset))/c.height)}))},ze=(t,e)=>{const r=e.keyCode;r>40||t.xy&&r<37||r<33||(e.preventDefault(),O(t.el,"move",t.getMove({x:r===39?.01:r===37?-.01:r===34?.05:r===33?-.05:r===35?1:r===36?-1:0,y:r===40?.01:r===38?-.01:0},!0)))};class ae{constructor(e,r,c,l){const h=re(`<div role="slider" tabindex="0" part="${r}" ${c}><div part="${r}-pointer"></div></div>`);e.appendChild(h.content.cloneNode(!0));const w=e.querySelector(`[part=${r}]`);w.addEventListener("mousedown",this),w.addEventListener("touchstart",this),w.addEventListener("keydown",this),this.el=w,this.xy=l,this.nodes=[w.firstChild,w]}set dragging(e){const r=e?document.addEventListener:document.removeEventListener;r(I?"touchmove":"mousemove",this),r(I?"touchend":"mouseup",this)}handleEvent(e){switch(e.type){case"mousedown":case"touchstart":if(e.preventDefault(),!Ie(e)||!I&&e.button!=0)return;this.el.focus(),ie(this,e),this.dragging=!0;break;case"mousemove":case"touchmove":e.preventDefault(),ie(this,e);break;case"mouseup":case"touchend":this.dragging=!1;break;case"keydown":ze(this,e);break}}style(e){e.forEach((r,c)=>{for(const l in r)this.nodes[c].style.setProperty(l,r[l])})}}class Te extends ae{constructor(e){super(e,"hue",'aria-label="Hue" aria-valuemin="0" aria-valuemax="360"',!1)}update({h:e}){this.h=e,this.style([{left:`${e/360*100}%`,color:B({h:e,s:100,v:100,a:1})}]),this.el.setAttribute("aria-valuenow",`${b(e)}`)}getMove(e,r){return{h:r?z(this.h+e.x*360,0,360):360*e.x}}}class _e extends ae{constructor(e){super(e,"saturation",'aria-label="Color"',!0)}update(e){this.hsva=e,this.style([{top:`${100-e.v}%`,left:`${e.s}%`,color:B(e)},{"background-color":B({h:e.h,s:100,v:100,a:1})}]),this.el.setAttribute("aria-valuetext",`Saturation ${b(e.s)}%, Brightness ${b(e.v)}%`)}getMove(e,r){return{s:r?z(this.hsva.s+e.x*100,0,100):e.x*100,v:r?z(this.hsva.v-e.y*100,0,100):Math.round(100-e.y*100)}}}const Fe=':host{display:flex;flex-direction:column;position:relative;width:200px;height:200px;user-select:none;-webkit-user-select:none;cursor:default}:host([hidden]){display:none!important}[role=slider]{position:relative;touch-action:none;user-select:none;-webkit-user-select:none;outline:0}[role=slider]:last-child{border-radius:0 0 8px 8px}[part$=pointer]{position:absolute;z-index:1;box-sizing:border-box;width:28px;height:28px;display:flex;place-content:center center;transform:translate(-50%,-50%);background-color:#fff;border:2px solid #fff;border-radius:50%;box-shadow:0 2px 4px rgba(0,0,0,.2)}[part$=pointer]::after{content:"";width:100%;height:100%;border-radius:inherit;background-color:currentColor}[role=slider]:focus [part$=pointer]{transform:translate(-50%,-50%) scale(1.1)}',Ve="[part=hue]{flex:0 0 24px;background:linear-gradient(to right,red 0,#ff0 17%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,red 100%)}[part=hue-pointer]{top:50%;z-index:2}",De="[part=saturation]{flex-grow:1;border-color:transparent;border-bottom:12px solid #000;border-radius:8px 8px 0 0;background-image:linear-gradient(to top,#000,transparent),linear-gradient(to right,#fff,rgba(255,255,255,0));box-shadow:inset 0 0 0 1px rgba(0,0,0,.05)}[part=saturation-pointer]{z-index:3}",V=Symbol("same"),U=Symbol("color"),ne=Symbol("hsva"),X=Symbol("update"),oe=Symbol("parts"),se=Symbol("css"),le=Symbol("sliders");class Ne extends HTMLElement{static get observedAttributes(){return["color"]}get[se](){return[Fe,Ve,De]}get[le](){return[_e,Te]}get color(){return this[U]}set color(e){if(!this[V](e)){const r=this.colorModel.toHsva(e);this[X](r),this[U]=e}}constructor(){super();const e=re(`<style>${this[se].join("")}</style>`),r=this.attachShadow({mode:"open"});r.appendChild(e.content.cloneNode(!0)),r.addEventListener("move",this),this[oe]=this[le].map(c=>new c(r))}connectedCallback(){if(this.hasOwnProperty("color")){const e=this.color;delete this.color,this.color=e}else this.color||(this.color=this.colorModel.defaultColor)}attributeChangedCallback(e,r,c){const l=this.colorModel.fromAttr(c);this[V](l)||(this.color=l)}handleEvent(e){const r=this[ne],c=j(j({},r),e.detail);this[X](c);let l;!ee(c,r)&&!this[V](l=this.colorModel.fromHsva(c))&&(this[U]=l,O(this,"color-changed",{value:l}))}[V](e){return this.color&&this.colorModel.equal(e,this.color)}[X](e){this[ne]=e,this[oe].forEach(r=>r.update(e))}}const We={defaultColor:"#000",toHsva:Ce,fromHsva:({h:t,s:e,v:r})=>Ae({h:t,s:e,v:r,a:1}),equal:$e,fromAttr:t=>t};class Be extends Ne{get colorModel(){return We}}class Oe extends Be{}customElements.define("hex-color-picker",Oe);var Re=/^[0-9a-f]{3}([0-9a-f]{3})?$/i,Y=function(e){if(!e)return"";var r=e.trim();if(!r)return"";var c=r.startsWith("#")?r.slice(1):r;return Re.test(c)?"#"+c.toLowerCase():""};function ue(){var t=document.querySelectorAll(".iw-field-type-color");t.forEach(function(e){if(e.dataset.colorInitialized!=="true"){var r=e.querySelector(".iw-color-input"),c=e.querySelector(".iw-color-swatch"),l=e.querySelector(".iw-color-popover"),h=e.querySelector("hex-color-picker"),w=e.querySelector(".iw-color-control");if(!(!r||!c||!l||!h||!w)){h.addEventListener("mousedown",function(m){return m.stopPropagation()}),e.dataset.colorInitialized="true";var x=Y(r.value)||"#000000",k=function(g,y){var d=y===void 0?{}:y,i=d.setInput,n=i===void 0?!0:i,a=d.dispatch,o=a===void 0?!0:a,s=d.setPicker,f=s===void 0?!0:s,u=Y(g);return u?(x=u,n&&(r.value=u),c.style.backgroundColor=u,f&&h.color!==u&&(h.color=u),o&&r.dispatchEvent(new Event("input",{bubbles:!0})),!0):!1},P=function(){e.classList.contains("is-open")||(e.classList.add("is-open"),l.removeAttribute("aria-hidden"),c.setAttribute("aria-expanded","true"),document.addEventListener("mousedown",$,!0),document.addEventListener("keydown",M))},S=function(){e.classList.contains("is-open")&&(e.classList.remove("is-open"),l.setAttribute("aria-hidden","true"),c.setAttribute("aria-expanded","false"),document.removeEventListener("mousedown",$,!0),document.removeEventListener("keydown",M))},$=function(g){var y=typeof g.composedPath=="function"?g.composedPath():[],d=w.contains(g.target)||y.includes(w)||y.includes(l)||y.includes(h);d||S()},M=function(g){g.key==="Escape"&&S()};k(x,{setInput:!0,dispatch:!1}),c.addEventListener("click",function(m){if(m.preventDefault(),e.classList.contains("is-open")){S();return}P()}),r.addEventListener("click",P),r.addEventListener("input",function(){var m=Y(r.value);m&&(r.value!==m&&(r.value=m),x=m,c.style.backgroundColor=m,h.color!==m&&(h.color=m))}),r.addEventListener("blur",function(){k(r.value,{setInput:!0,dispatch:!1})||k(x,{setInput:!0,dispatch:!1})}),h.addEventListener("color-changed",function(m){k(m.detail.value,{setPicker:!1})})}}})}function ce(){var t=document.querySelector("[data-settings-prefix]"),e=t?t.dataset.settingsPrefix:"";if(e){var r="data-"+e+"-conditional",c="data-"+e+"-conditional-action",l=e+"-hidden",h=function(i){var n=i.getAttribute(r);if(!n)return[];try{var a=JSON.parse(n);if(Array.isArray(a))return a;if(a&&typeof a=="object")return[a]}catch(o){return[]}return[]},w=function(i){var n=i.getAttribute(c);return n&&["show","hide","enable","disable"].includes(n)?n:"show"},x=function(i){var n=document.getElementById(i);if(n)return n.type==="checkbox"||n.type==="radio"?n.checked?n.value:"":n.value;var a=document.querySelectorAll('input[type="radio"][id^="'+i+'-"]');if(a.length>0){for(var o=L(a),s;!(s=o()).done;){var f=s.value;if(f.checked)return f.value}return null}var u=document.querySelectorAll('input[type="checkbox"][id^="'+i+'-"]');if(u.length>0){var p=[];return u.forEach(function(v){v.checked&&p.push(v.value)}),p}return null},k=function(i,n){var a=document.getElementById(i);if(a){a.addEventListener("change",n),a.addEventListener("input",n);return}var o=document.querySelectorAll('input[type="radio"][id^="'+i+'-"]');o.forEach(function(f){f.addEventListener("change",n)});var s=document.querySelectorAll('input[type="checkbox"][id^="'+i+'-"]');s.forEach(function(f){f.addEventListener("change",n)})},P=[],S=new Map;document.querySelectorAll("["+r+"]").forEach(function(d){var i=h(d);if(i.length){var n=d.closest("tr")||d,a=d.getAttribute("data-"+e+"-animation"),o=w(d),s={el:d,row:n,conditions:i,animation:a,action:o};P.push(s),i.forEach(function(f){S.has(f.field)||S.set(f.field,[]);var u=S.get(f.field);u.includes(s)||u.push(s)})}});var $=function(i){return i.conditions.every(function(n){var a=x(n.field);if(a===null)return!1;switch(n.operator){case"is":return a===n.value;case"isnot":return a!==n.value;case"contains":return(typeof a=="string"||Array.isArray(a))&&a.includes(n.value);case"containsnot":return(typeof a=="string"||Array.isArray(a))&&!a.includes(n.value);default:return!1}})},M=function(i,n,a){a===void 0&&(a=!0);var o=i.row,s=i.animation,f=o.classList.contains(l);if(n===!f)return Promise.resolve();if(!a||!s||!["fade","slide"].includes(s))return o.classList.toggle(l,!n),Promise.resolve();var u=e+"-anim-in",p=e+"-anim-out",v=e+"-anim-"+s;return new Promise(function(C){o._iwAnimHandler&&(o.removeEventListener("animationend",o._iwAnimHandler),o._iwAnimHandler=null);var A=function(){o.classList.remove(u,p,v),n?o.classList.remove(l):o.classList.add(l),o.removeEventListener("animationend",A),o._iwAnimHandler=null,C()};o.classList.remove(u,p,v),n?(o.classList.remove(l),o.classList.add(u,v)):o.classList.add(p,v),o._iwAnimHandler=A,o.addEventListener("animationend",A,{once:!0})})},m=function(i,n){var a=i.el.querySelectorAll("input, select, textarea, button");a.forEach(function(o){n?o.disabled||(o.dataset.iwCondDisabled="true",o.disabled=!0):o.dataset.iwCondDisabled==="true"&&(o.disabled=!1,delete o.dataset.iwCondDisabled)})},g=new Set,y=new Map;S.forEach(function(d,i){if(!g.has(i)){y.has(i)||y.set(i,{seq:0});var n=function(){var o=y.get(i),s=++o.seq,f=[],u=[];if(d.forEach(function(v){var C=$(v);if(v.action==="enable"||v.action==="disable"){var A=v.action==="disable"?C:!C;m(v,A);return}var T=v.row.classList.contains(l),_=v.action==="show"?C:!C;_&&T?u.push(v):!_&&!T&&f.push(v)}),f.length>0){var p=f.map(function(v){return M(v,!1,!0)});Promise.all(p).then(function(){o.seq===s&&u.forEach(function(v){return M(v,!0,!0)})})}else u.forEach(function(v){return M(v,!0,!0)})};k(i,n),g.add(i)}}),P.forEach(function(d){var i=$(d);if(d.action==="enable"||d.action==="disable"){var n=d.action==="disable"?i:!i;m(d,n);return}var a=d.action==="show"?i:!i;M(d,a,!1)})}}document.addEventListener("DOMContentLoaded",function(){ue(),ce()}),document.addEventListener("wpAjaxContentLoaded",function(){ue(),ce()}),(function(){var t=window.iwArgsSettings||{},e=function(i,n){if(!i)return!1;var a=i.matches||i.msMatchesSelector||i.webkitMatchesSelector;return a?a.call(i,n):!1},r=function(i,n){for(var a=i;a;){if(e(a,n))return a;a=a.parentElement}return null},c=function(i){if(i){var n=document.querySelector('.iw-range-value[data-for="'+i.id+'"]');if(!n&&i.dataset.rangeOutput&&(n=document.getElementById(i.dataset.rangeOutput)),!n){var a;n=(a=i.closest(".iw-range-field"))==null?void 0:a.querySelector("output")}n&&(n.textContent=i.value)}},l=function(i,n){n===void 0&&(n=0);var a=parseFloat(i);return Number.isNaN(a)?n:a},h=function(i,n){n===void 0&&(n="");var a=document.querySelector(i);return a&&a.value?a.value:n},w=function(){var i=document.querySelector("#iw-watermark-preview-stage"),n=i==null?void 0:i.querySelector(".iw-preview-stage-inner");if(!n)return null;var a=n.getBoundingClientRect();return{el:n,wrapper:i,width:a.width,height:a.height}},x=function(i,n,a,o){var s=i,f=n;if(a==="1")o.customWidth>0&&(s=o.customWidth),o.customHeight>0&&(f=o.customHeight);else if(a==="2"){var u=o.scalePercent>0?o.scalePercent:100,p=o.stageWidth*(u/100),v=p/s;s=p,f=f*v}var C=Math.min(o.stageWidth/s,o.stageHeight/f,1);return{width:s*C,height:f*C}},k=function(i,n,a,o){var s=0,f=0;return a.x==="left"?s=o.x:a.x==="center"?s=(n.width-i.width)/2+o.x:a.x==="right"&&(s=n.width-i.width-o.x),a.y==="top"?f=o.y:a.y==="middle"?f=(n.height-i.height)/2+o.y:a.y==="bottom"&&(f=n.height-i.height-o.y),{left:Math.max(0,s),top:Math.max(0,f)}},P=function(i,n,a){var o=document.createElement("span");return o.textContent=i,o.style.position="absolute",o.style.visibility="hidden",o.style.whiteSpace="pre",o.style.fontFamily=n,o.style.fontSize=a,document.body.appendChild(o),{width:o.offsetWidth||1,height:o.offsetHeight||1,el:o}},S=new Set,$=function(i){if(!i)return"";var n=Array.prototype.slice.call(document.querySelectorAll("script")),a=n.map(function(s){return s.getAttribute("src")||""}).find(function(s){return s.indexOf("/js/admin-settings.js")!==-1});if(a){var o=a.split("/js/admin-settings.js")[0];return o+"/fonts/"+i}return"../fonts/"+i},M=function(i){var n=(i||"").replace(/\.ttf$/i,""),a=n.split("-"),o=(a[0]||"").replace(/_/g," ")||"Lato",s=(a[1]||"regular").toLowerCase(),f=s.includes("italic")?"italic":"normal",u=400;return s.includes("thin")||s.includes("hairline")?u=100:s.includes("extralight")||s.includes("extra light")?u=200:s.includes("light")?u=300:s.includes("medium")?u=500:s.includes("semibold")||s.includes("demibold")?u=600:s.includes("bold")?u=700:(s.includes("black")||s.includes("heavy"))&&(u=800),{family:"IW-"+o,weight:u,style:f,baseFamily:o}},m=function(i,n){if(!i)return{family:"Lato",weight:400,style:"normal"};var a=M(i),o=a.family+"-"+a.weight+"-"+a.style,s=$(i);if(!S.has(o)){var f=document.createElement("style");f.type="text/css",f.textContent="@font-face { font-family: '"+a.family+"'; font-style: "+a.style+"; font-weight: "+a.weight+"; src: url('"+s+"') format('truetype'); font-display: swap; }",document.head.appendChild(f),S.add(o)}return document.fonts&&!S.has(o+"-loaded-"+n)&&(S.add(o+"-loaded-"+n),document.fonts.load((a.style==="italic"?"italic ":"")+a.weight+" "+n+"px '"+a.family+"'").then(function(){window.requestAnimationFrame(y)})),a},g=function(){var i,n,a,o,s=w();if(s){var f=document.querySelector("#iw-watermark-preview-placeholder"),u=document.querySelector("#iw-watermark-preview-image"),p=document.querySelector("#iw-watermark-preview-text"),v=document.querySelector("#iw-watermark-preview-origin-label"),C=document.querySelector("#iw-watermark-preview-origin-size"),A=function(at,nt){v&&(v.textContent=at),C&&(C.textContent=nt)},T=((i=document.querySelector("#iw-watermark-type-setting input[type=radio]:checked"))==null?void 0:i.value)||"image",_=((n=document.querySelector("#iw-watermark-size-setting input[type=radio]:checked"))==null?void 0:n.value)||"0",Ue=((a=document.querySelector("#iw-watermark-alignment input[type=radio]:checked"))==null?void 0:a.value)||"bottom_right",de=Ue.split("_"),fe=de[0],he=de[1],pe=l(h("#iw-watermark-size-scaled-slider","100"),100),ve=l(h("#iw-watermark-size-custom-width","0"),0),me=l(h("#iw-watermark-size-custom-height","0"),0),Xe=((o=document.querySelector("#iw-watermark-offset-unit-setting input[type=radio]:checked"))==null?void 0:o.value)||"pixels",we=document.querySelector("input#iw-watermark-offset-x"),ge=document.querySelector("input#iw-watermark-offset-y"),D=l(we?we.value:"0",0),N=l(ge?ge.value:"0",0),Ye=l(h("#iw-watermark-opacity-slider","50"),50),ye=Ye/100;if(Xe==="percentages"&&(D=s.width*(D/100),N=s.height*(N/100)),f&&(f.style.display="none"),u&&(u.style.display="none",u.style.left="0",u.style.top="0"),p&&(p.style.display="none",p.style.left="0",p.style.top="0",p.style.transform="none"),T==="image"){var Je=(u==null?void 0:u.getAttribute("src"))||"";if(!u||!Je){A(t.originImageLabel||"Original watermark image:",t.originImageMissing||"No watermark image selected."),f&&(f.textContent=t.noImagePreview||"No watermark image has been selected yet.",f.style.display="flex");return}var J=l(u.getAttribute("data-natural-width")||u.naturalWidth||u.width,0),K=l(u.getAttribute("data-natural-height")||u.naturalHeight||u.height,0);if(!J||!K){A(t.originImageLabel||"Original watermark image:",t.originImageLoading||"Loadingâ€¦"),u.addEventListener("load",y,{once:!0});return}A(t.originImageLabel||"Original watermark image:",J+" x "+K+" px");var G=x(J,K,_,{stageWidth:s.width,stageHeight:s.height,customWidth:ve,customHeight:me,scalePercent:pe}),be=k(G,s,{x:he,y:fe},{x:D,y:N});u.style.width=G.width+"px",u.style.height=G.height+"px",u.style.left=be.left+"px",u.style.top=be.top+"px",u.style.opacity=ye,u.style.display="block"}else{if(!p)return;var Q=h("#iw-watermark-text-string","").trim();if(!Q){A(t.originTextLabel||"Original text size:",t.originTextEmpty||"Enter text to preview."),f&&(f.textContent="Enter watermark text to preview.",f.style.display="flex");return}var Ke=h("#iw-watermark-text-color","#ffffff"),Z=l(h("#iw-watermark-text-size","20"),20),Ge=h("#iw-watermark-text-font","Lato-Regular.ttf"),Qe=m(Ge,Z),Ze=Qe.family;p.textContent=Q,p.style.color=Ke,p.style.opacity=ye,p.style.fontFamily="'"+Ze+"', sans-serif",p.style.fontSize=Z+"px";var H=P(Q,p.style.fontFamily,p.style.fontSize);A(t.originTextLabel||"Original text size:",Math.round(H.width)+" x "+Math.round(H.height)+" px");var xe=x(H.width,H.height,_,{stageWidth:s.width,stageHeight:s.height,customWidth:ve,customHeight:me,scalePercent:pe}),je=Math.min(xe.width/H.width,xe.height/H.height,1),et=Z*je;p.style.transform="none",p.style.fontSize=et+"px";var tt=p.style.visibility;p.style.display="block",p.style.visibility="hidden";var ke=p.getBoundingClientRect(),rt=ke.width,it=ke.height,Se=k({width:rt,height:it},s,{x:he,y:fe},{x:D,y:N});p.style.visibility=tt||"",p.style.left=Se.left+"px",p.style.top=Se.top+"px",p.style.display="block",H.el&&H.el.parentNode&&H.el.parentNode.removeChild(H.el)}}},y=function(){window.iw&&window.iw.settings&&typeof window.iw.settings.updatePreview=="function"&&window.iw.settings.updatePreview!==g?window.iw.settings.updatePreview():g()};typeof window!="undefined"&&(window.iw=window.iw||{},window.iw.settings=Object.assign(window.iw.settings||{},{computeTargetSize:x,computePosition:k,toNumber:l,getValue:h,measureText:P,resolveFontUrl:$,parseFontMeta:M,ensureFontLoaded:m,updatePreview:g,getStage:w})),document.addEventListener("DOMContentLoaded",function(){document.addEventListener("change",function(i){i.target&&e(i.target,"#iw-watermark-type-setting input[type=radio]")&&y(),i.target&&e(i.target,"#iw-watermark-size-setting input[type=radio]")&&y(),i.target&&e(i.target,"#iw-watermark-offset-unit-setting input[type=radio]")&&y(),i.target&&e(i.target,"#iw-watermark-offset-x, #iw-watermark-offset-y")&&g(),i.target&&e(i.target,"#iw-watermark-alignment input[type=radio]")&&g(),i.target&&e(i.target,"#iw-watermark-text-font")&&g(),i.target&&e(i.target,"#iw-watermark-image-ui-input")&&g()}),document.addEventListener("click",function(i){var n=r(i.target,"#reset-image-watermark-options");n&&(window.confirm(t.resetToDefaults)||i.preventDefault())}),document.addEventListener("input",function(i){i.target&&i.target.type==="range"&&c(i.target),(e(i.target,"#iw-watermark-size-scaled-slider, #iw-watermark-opacity-slider, #iw-watermark-offset-x, #iw-watermark-offset-y")||e(i.target,"#iw-watermark-text-string, #iw-watermark-text-color, #iw-watermark-text-size")||e(i.target,"#iw-watermark-size-custom-width, #iw-watermark-size-custom-height"))&&y()}),Array.prototype.slice.call(document.querySelectorAll('input[type="range"]')).forEach(c),g(),document.addEventListener("iwPreviewImageChange",y);var d=document.querySelector("#iw-watermark-preview-image");d&&d.addEventListener("load",y)})})()})();
