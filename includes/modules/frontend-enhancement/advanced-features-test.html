<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>WP Genius Reader é«˜çº§åŠŸèƒ½æµ‹è¯•</title>
    
    <!-- Include Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    
    <!-- Include jQuery -->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    
    <!-- Reader CSS -->
    <link rel="stylesheet" href="assets/css/reader.css">
    
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            min-height: 200vh;
        }
        
        .test-section {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            padding: 30px;
            margin: 30px 0;
            border-radius: 15px;
            border: 1px solid rgba(255, 255, 255, 0.2);
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
        }
        
        .feature-demo {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            padding: 20px;
            border-radius: 10px;
            margin: 15px 0;
        }
        
        .controls {
            position: fixed;
            top: 20px;
            right: 20px;
            background: rgba(0, 0, 0, 0.8);
            padding: 20px;
            border-radius: 10px;
            z-index: 9998;
            min-width: 250px;
        }
        
        .controls h3 {
            margin-top: 0;
            color: #00bf72;
        }
        
        .controls button {
            display: block;
            width: 100%;
            margin: 8px 0;
            padding: 10px;
            background: #00bf72;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 14px;
            transition: all 0.3s ease;
        }
        
        .controls button:hover {
            background: #00a85a;
            transform: translateY(-2px);
        }
        
        .status-display {
            background: rgba(0, 0, 0, 0.5);
            padding: 15px;
            border-radius: 8px;
            margin: 10px 0;
            font-family: monospace;
            font-size: 12px;
        }
        
        .instruction {
            background: rgba(255, 193, 7, 0.2);
            border: 1px solid rgba(255, 193, 7, 0.5);
            padding: 15px;
            border-radius: 8px;
            margin: 15px 0;
        }
        
        .keyboard-hint {
            background: rgba(40, 167, 69, 0.2);
            border: 1px solid rgba(40, 167, 69, 0.5);
            padding: 10px;
            border-radius: 5px;
            font-size: 12px;
            margin: 10px 0;
        }
        
        /* æ¨¡æ‹Ÿé•¿é¡µé¢å†…å®¹ */
        .spacer-content {
            height: 300px;
            background: rgba(255, 255, 255, 0.1);
            margin: 20px 0;
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 18px;
            opacity: 0.7;
        }
    </style>
</head>
<body>
    <div class="controls">
        <h3><i class="fas fa-cogs"></i> åŠŸèƒ½æµ‹è¯•æ§åˆ¶å°</h3>
        
        <div class="status-display" id="status-display">
            <div>å·¥å…·æ çŠ¶æ€: <span id="toolbar-status">æ£€æµ‹ä¸­...</span></div>
            <div>æ‚¬æµ®æ¨¡å¼: <span id="floating-status">æœªæ¿€æ´»</span></div>
            <div>å…¨å±æ¨¡å¼: <span id="fullscreen-status">æœªæ¿€æ´»</span></div>
            <div>ESCé”®æ”¯æŒ: <span id="esc-status">å¯ç”¨</span></div>
        </div>
        
        <button onclick="testFloatingMode()">
            <i class="fas fa-arrow-up"></i> æµ‹è¯•æ‚¬æµ®æ¨¡å¼
        </button>
        
        <button onclick="testFullscreenMode()">
            <i class="fas fa-expand"></i> æµ‹è¯•å…¨å±æ¨¡å¼
        </button>
        
        <button onclick="testKeyboardSupport()">
            <i class="fas fa-keyboard"></i> æµ‹è¯•é”®ç›˜æ”¯æŒ
        </button>
        
        <button onclick="resetAllModes()">
            <i class="fas fa-undo"></i> é‡ç½®æ‰€æœ‰æ¨¡å¼
        </button>
    </div>
    
    <h1><i class="fas fa-magic"></i> WP Genius Reader é«˜çº§åŠŸèƒ½æµ‹è¯•</h1>
    
    <div class="instruction">
        <h3><i class="fas fa-info-circle"></i> æµ‹è¯•è¯´æ˜</h3>
        <p>æœ¬é¡µé¢ç”¨äºæµ‹è¯•Readerçš„é«˜çº§åŠŸèƒ½ï¼š</p>
        <ul>
            <li><strong>æ‚¬æµ®å·¥å…·æ </strong>ï¼šå·¥å…·æ æ‚¬æµ®åœ¨é¡µé¢é¡¶éƒ¨ï¼Œä¸éšæ»šåŠ¨æ¶ˆå¤±</li>
            <li><strong>å…¨å±/ä¸“æ³¨æ¨¡å¼</strong>ï¼šéšè—é¡µé¢å…¶ä»–å…ƒç´ ï¼Œä¸“æ³¨äºé˜…è¯»</li>
            <li><strong>ESCé”®æ”¯æŒ</strong>ï¼šåœ¨å…¨å±æ¨¡å¼ä¸‹æŒ‰ESCé”®é€€å‡º</li>
            <li><strong>å“åº”å¼è®¾è®¡</strong>ï¼šåœ¨ç§»åŠ¨è®¾å¤‡ä¸Šä¹Ÿèƒ½æ­£å¸¸å·¥ä½œ</li>
        </ul>
    </div>
    
    <div class="test-section">
        <h2><i class="fas fa-book"></i> æµ‹è¯•åŒºåŸŸ 1: æ ‡å‡†å®¹å™¨</h2>
        <div class="feature-demo">
            <h3>ReaderåŠŸèƒ½å±•ç¤º</h3>
            <p>è¿™ä¸ªåŒºåŸŸåŒ…å« <code>#w2p-book-chapters</code> å®¹å™¨ï¼ŒReaderå·¥å…·æ åº”è¯¥æ˜¾ç¤ºåœ¨è¿™é‡Œã€‚</p>
            <p>æ–°åŠŸèƒ½åŒ…æ‹¬ï¼š</p>
            <ul>
                <li>âœ… Font Awesome çº¿æ€§å›¾æ ‡</li>
                <li>âœ… 16-50ms å³æ—¶å“åº”</li>
                <li>ğŸ¯ æ‚¬æµ®å·¥å…·æ ï¼ˆæ–°å¢ï¼‰</li>
                <li>ğŸ–¥ï¸ å…¨å±/ä¸“æ³¨æ¨¡å¼ï¼ˆæ–°å¢ï¼‰</li>
                <li>âŒ¨ï¸ ESCé”®é€€å‡ºæ”¯æŒï¼ˆæ–°å¢ï¼‰</li>
            </ul>
        </div>
        
        <div id="w2p-book-chapters">
            <h3>ç¬¬ä¸€ç« ï¼šé«˜çº§åŠŸèƒ½ä»‹ç»</h3>
            <p>è¿™ä¸€ç« èŠ‚ä»‹ç»äº†WP Genius Readerçš„æœ€æ–°é«˜çº§åŠŸèƒ½ï¼ŒåŒ…æ‹¬æ‚¬æµ®å·¥å…·æ å’Œå…¨å±é˜…è¯»æ¨¡å¼ã€‚</p>
            <p><strong>æ‚¬æµ®å·¥å…·æ ç‰¹ç‚¹ï¼š</strong></p>
            <ul>
                <li>å·¥å…·æ å§‹ç»ˆä¿æŒåœ¨å±å¹•é¡¶éƒ¨å¯è§</li>
                <li>å…·æœ‰æ¯›ç»ç’ƒæ•ˆæœå’Œé€æ˜åº¦</li>
                <li>ä¸å½±å“é¡µé¢åŸæœ‰å¸ƒå±€</li>
                <li>å¹³æ»‘çš„è¿‡æ¸¡åŠ¨ç”»</li>
            </ul>
            <p><strong>å…¨å±/ä¸“æ³¨æ¨¡å¼ç‰¹ç‚¹ï¼š</strong></p>
            <ul>
                <li>éšè—é¡µé¢æ‰€æœ‰å…¶ä»–å…ƒç´ </li>
                <li>åªä¿ç•™é˜…è¯»åŒºåŸŸå’Œå·¥å…·æ </li>
                <li>é¡¶éƒ¨è¿›åº¦æ¡ä»ç„¶å¯è§</li>
                <li>æŒ‰ESCé”®å¿«é€Ÿé€€å‡º</li>
            </ul>
            <p>è¿™äº›åŠŸèƒ½å¤§å¤§æå‡äº†ç”¨æˆ·çš„é˜…è¯»ä½“éªŒï¼Œç‰¹åˆ«æ˜¯åœ¨é•¿æ—¶é—´é˜…è¯»æ—¶ã€‚</p>
            <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.</p>
        </div>
    </div>
    
    <div class="spacer-content">
        <i class="fas fa-arrow-down"></i> æ»šåŠ¨å†…å®¹åŒºåŸŸ 1 <i class="fas fa-arrow-down"></i>
    </div>
    
    <div class="test-section">
        <h2><i class="fas fa-layer-group"></i> æµ‹è¯•åŒºåŸŸ 2: é•¿é¡µé¢æ»šåŠ¨</h2>
        <div class="feature-demo">
            <h3>æ‚¬æµ®æ•ˆæœæµ‹è¯•</h3>
            <p>è¯·å‘ä¸‹æ»šåŠ¨é¡µé¢ï¼ŒéªŒè¯æ‚¬æµ®å·¥å…·æ æ˜¯å¦å§‹ç»ˆä¿æŒåœ¨é¡¶éƒ¨å¯è§ã€‚</p>
        </div>
        
        <div class="spacer-content">
            <i class="fas fa-scroll"></i> é•¿å†…å®¹åŒºåŸŸ 1 <i class="fas fa-scroll"></i>
        </div>
    </div>
    
    <div class="spacer-content">
        <i class="fas fa-arrow-down"></i> æ»šåŠ¨å†…å®¹åŒºåŸŸ 2 <i class="fas fa-arrow-down"></i>
    </div>
    
    <div class="test-section">
        <h2><i class="fas fa-eye"></i> æµ‹è¯•åŒºåŸŸ 3: ä¸“æ³¨æ¨¡å¼éªŒè¯</h2>
        <div class="feature-demo">
            <h3>å…¨å±æ¨¡å¼æµ‹è¯•</h3>
            <p>ç‚¹å‡»"æµ‹è¯•å…¨å±æ¨¡å¼"æŒ‰é’®ï¼ŒéªŒè¯ï¼š</p>
            <ul>
                <li>é¡µé¢å…¶ä»–å…ƒç´ æ˜¯å¦è¢«éšè—</li>
                <li>é˜…è¯»åŒºåŸŸæ˜¯å¦å±…ä¸­æ˜¾ç¤º</li>
                <li>å·¥å…·æ æ˜¯å¦ä¿æŒåœ¨é¡¶éƒ¨</li>
                <li>ESCé”®æ˜¯å¦èƒ½é€€å‡ºæ¨¡å¼</li>
            </ul>
        </div>
        
        <div class="keyboard-hint">
            <i class="fas fa-keyboard"></i> <strong>é”®ç›˜æç¤ºï¼š</strong>åœ¨å…¨å±æ¨¡å¼ä¸‹æŒ‰ <kbd>ESC</kbd> é”®å¯ä»¥å¿«é€Ÿé€€å‡ºã€‚
        </div>
    </div>
    
    <div class="spacer-content">
        <i class="fas fa-arrow-down"></i> æ»šåŠ¨å†…å®¹åŒºåŸŸ 3 <i class="fas fa-arrow-down"></i>
    </div>
    
    <div class="test-section">
        <h2><i class="fas fa-mobile-alt"></i> æµ‹è¯•åŒºåŸŸ 4: ç§»åŠ¨è®¾å¤‡é€‚é…</h2>
        <div class="feature-demo">
            <h3>å“åº”å¼æµ‹è¯•</h3>
            <p>è¯·åœ¨ä¸åŒè®¾å¤‡å°ºå¯¸ä¸‹æµ‹è¯•ï¼š</p>
            <ul>
                <li>å·¥å…·æ åœ¨å°å±å¹•ä¸Šçš„æ˜¾ç¤ºæ•ˆæœ</li>
                <li>å…¨å±æ¨¡å¼ä¸‹çš„å¸ƒå±€é€‚é…</li>
                <li>è§¦æ‘¸æ“ä½œçš„å“åº”æ€§</li>
            </ul>
        </div>
        
        <div class="spacer-content">
            <i class="fas fa-mobile-alt"></i> ç§»åŠ¨è®¾å¤‡æµ‹è¯•åŒºåŸŸ <i class="fas fa-mobile-alt"></i>
        </div>
    </div>
    
    <div class="spacer-content">
        <i class="fas fa-arrow-down"></i> é¡µé¢åº•éƒ¨ <i class="fas fa-arrow-down"></i>
    </div>
    
    <script>
        // Mock WordPress configuration
        window.wpgReaderConfig = {
            postId: 123,
            settings: {
                reader_enabled: true,
                reader_font_size: 18,
                reader_font_family: 'sans',
                reader_theme: 'light'
            }
        };
        
        // Mock default settings
        window.wpgReaderDefaults = {
            fontSize: 18,
            fontFamily: 'sans',
            theme: 'light'
        };
        
        // Status monitoring
        function updateStatusDisplay() {
            const toolbarStatusEl = document.getElementById('toolbar-status');
            const floatingStatusEl = document.getElementById('floating-status');
            const fullscreenStatusEl = document.getElementById('fullscreen-status');
            
            if (window.wpGeniusReader) {
                toolbarStatusEl.textContent = 'âœ… å·²åˆå§‹åŒ–';
                const $toolbar = $('#wpg-reader-toolbar');
                const isFloating = $('body').hasClass('wpg-reader-floating');
                const isFullscreen = $('body').hasClass('wpg-reader-fullscreen');
                
                floatingStatusEl.textContent = isFloating ? 'âœ… å·²æ¿€æ´»' : 'âŒ æœªæ¿€æ´»';
                fullscreenStatusEl.textContent = isFullscreen ? 'âœ… å·²æ¿€æ´»' : 'âŒ æœªæ¿€æ´»';
            } else {
                toolbarStatusEl.textContent = 'âŒ æœªåˆå§‹åŒ–';
                floatingStatusEl.textContent = 'âŒ æœªæ¿€æ´»';
                fullscreenStatusEl.textContent = 'âŒ æœªæ¿€æ´»';
            }
        }
        
        // Test functions
        window.testFloatingMode = function() {
            if (window.wpGeniusReader && window.wpGeniusReader.$fullscreenBtn) {
                // æš‚æ—¶æ¿€æ´»æ‚¬æµ®æ¨¡å¼ï¼ˆä¸è¿›å…¥å…¨å±ï¼‰
                $('body').addClass('wpg-reader-floating');
                updateStatusDisplay();
                alert('æ‚¬æµ®æ¨¡å¼å·²æ¿€æ´»ï¼å·¥å…·æ ç°åœ¨åº”è¯¥æ‚¬æµ®åœ¨é¡µé¢é¡¶éƒ¨ã€‚');
            } else {
                alert('Readeræœªåˆå§‹åŒ–ï¼Œè¯·ç¨ç­‰...');
            }
        };
        
        window.testFullscreenMode = function() {
            if (window.wpGeniusReader && window.wpGeniusReader.$fullscreenBtn) {
                window.wpGeniusReader.enterFullscreen();
                updateStatusDisplay();
                alert('å…¨å±æ¨¡å¼å·²æ¿€æ´»ï¼é¡µé¢å…¶ä»–å…ƒç´ å·²è¢«éšè—ã€‚\\n\\næŒ‰ESCé”®å¯ä»¥é€€å‡ºã€‚');
            } else {
                alert('Readeræœªåˆå§‹åŒ–ï¼Œè¯·ç¨ç­‰...');
            }
        };
        
        window.testKeyboardSupport = function() {
            alert('é”®ç›˜æ”¯æŒå·²å¯ç”¨ï¼\\n\\nåœ¨å…¨å±æ¨¡å¼ä¸‹æŒ‰ESCé”®å¯ä»¥é€€å‡ºå…¨å±æ¨¡å¼ã€‚');
        };
        
        window.resetAllModes = function() {
            if (window.wpGeniusReader) {
                window.wpGeniusReader.exitFullscreen();
                $('body').removeClass('wpg-reader-floating');
                updateStatusDisplay();
                alert('æ‰€æœ‰æ¨¡å¼å·²é‡ç½®ã€‚');
            } else {
                $('body').removeClass('wpg-reader-floating wpg-reader-fullscreen');
                updateStatusDisplay();
                alert('æ¨¡å¼å·²é‡ç½®ã€‚');
            }
        };
        
        // Initialize monitoring
        $(document).ready(function() {
            console.log('ğŸš€ é«˜çº§åŠŸèƒ½æµ‹è¯•é¡µé¢åŠ è½½å®Œæˆ');
            
            // Update status every second
            setInterval(updateStatusDisplay, 1000);
            
            // Initial status check
            setTimeout(updateStatusDisplay, 1000);
        });
    </script>
    
    <!-- Reader JavaScript -->
    <script src="assets/js/reader.js"></script>
    
    <script>
        // Monitor Reader initialization
        $(document).ready(function() {
            setTimeout(() => {
                if (window.wpGeniusReader) {
                    console.log('âœ… Readerå·²åˆå§‹åŒ–ï¼Œé«˜çº§åŠŸèƒ½æµ‹è¯•å°±ç»ª');
                    updateStatusDisplay();
                } else {
                    console.log('âš ï¸ Readeræœªåˆå§‹åŒ–ï¼Œè¯·æ£€æŸ¥å®¹å™¨æ˜¯å¦å­˜åœ¨');
                }
            }, 2000);
        });
    </script>
</body>
</html>